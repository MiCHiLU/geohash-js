(function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m;h=0,a=1,v=2,m=3,l=0,p=1,n=[16,8,4,2,1],t="0123456789bcdefghjkmnpqrstuvwxyz",i={0:{},1:{},2:{},3:{}},r={0:{},1:{},2:{},3:{}},i[v][p]=i[m][l]="238967debc01fg45kmstqrwxuvhjyznp",i[h][p]=i[a][l]="bc01fg45238967deuvhjyznpkmstqrwx",i[m][p]=i[v][l]="14365h7k9dcfesgujnmqp0r2twvyx8zb",i[a][p]=i[h][l]="p0r21436x8zb9dcf5h7kjnmqesgutwvy",r[v][p]=r[m][l]="0145hjnp",r[h][p]=r[a][l]="bcfguvyz",r[m][p]=r[v][l]="028b",r[a][p]=r[h][l]="prxz",d=function(e,t,n){t&n?e[0]=(e[0]+e[1])/2:e[1]=(e[0]+e[1])/2},s=function(e,n){var o,u,a;return e=e.toLowerCase(),u=e.charAt(e.length-1),a=e.length%2?p:l,o=e.substring(0,e.length-1),r[n][a].indexOf(u)!==-1&&(o=s(o,n)),o+t[i[n][a].indexOf(u)]},o=function(e){var t;return t={c:e,n:s(e,h),e:s(e,a),s:s(e,v),w:s(e,m)},t.ne=s(t.n,a),t.se=s(t.s,a),t.sw=s(t.s,m),t.nw=s(t.n,m),t},u=function(e){var r,i,s,o,u,a,f,l,c,h;o=1,a=[-90,90],l=[-180,180],f=90,c=180,s=0;while(s<e.length){r=e[s],i=t.indexOf(r),u=0;while(u<5)h=n[u],o?(c/=2,d(l,i,h)):(f/=2,d(a,i,h)),o=!o,u++;s++}return[(a[0]+a[1])/2,(l[0]+l[1])/2]},f=function(e,r){var i,s,o,u,a,f,l,c,h;a=1,u=0,f=[-90,90],l=[-180,180],i=0,s=0,h=12,o="";while(o.length<h)a?(c=(l[0]+l[1])/2,r>c?(s|=n[i],l[0]=c):l[1]=c):(c=(f[0]+f[1])/2,e>c?(s|=n[i],f[0]=c):f[1]=c),a=!a,i<4?i++:(o+=t[s],i=0,s=0);return o},c=e.geohash||(e.geohash={decode:u,encode:f,adjacents:o})})(window);